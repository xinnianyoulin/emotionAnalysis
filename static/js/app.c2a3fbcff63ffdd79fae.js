webpackJsonp([1],{"/sZF":function(t,e,a){var n={"./af":"hoyg","./af.js":"hoyg","./ar":"EIvJ","./ar-dz":"A3TK","./ar-dz.js":"A3TK","./ar-kw":"StGe","./ar-kw.js":"StGe","./ar-ly":"cMhJ","./ar-ly.js":"cMhJ","./ar-ma":"XkLW","./ar-ma.js":"XkLW","./ar-sa":"OznM","./ar-sa.js":"OznM","./ar-tn":"uXMi","./ar-tn.js":"uXMi","./ar.js":"EIvJ","./az":"rhkf","./az.js":"rhkf","./be":"A+Bw","./be.js":"A+Bw","./bg":"uq4u","./bg.js":"uq4u","./bm":"twWA","./bm.js":"twWA","./bn":"33gZ","./bn.js":"33gZ","./bo":"dDFJ","./bo.js":"dDFJ","./br":"IS0R","./br.js":"IS0R","./bs":"U60n","./bs.js":"U60n","./ca":"EbLA","./ca.js":"EbLA","./cs":"GgUE","./cs.js":"GgUE","./cv":"PBzC","./cv.js":"PBzC","./cy":"Vb12","./cy.js":"Vb12","./da":"fA/3","./da.js":"fA/3","./de":"wSHD","./de-at":"yByT","./de-at.js":"yByT","./de-ch":"7Q0A","./de-ch.js":"7Q0A","./de.js":"wSHD","./dv":"sCrB","./dv.js":"sCrB","./el":"Xq2S","./el.js":"Xq2S","./en-au":"3cz+","./en-au.js":"3cz+","./en-ca":"WVsA","./en-ca.js":"WVsA","./en-gb":"ZK79","./en-gb.js":"ZK79","./en-ie":"i0JX","./en-ie.js":"i0JX","./en-il":"aCja","./en-il.js":"aCja","./en-nz":"EYWQ","./en-nz.js":"EYWQ","./eo":"cz+J","./eo.js":"cz+J","./es":"eM4w","./es-do":"Hp0T","./es-do.js":"Hp0T","./es-us":"/bDX","./es-us.js":"/bDX","./es.js":"eM4w","./et":"W175","./et.js":"W175","./eu":"CXUX","./eu.js":"CXUX","./fa":"R2J6","./fa.js":"R2J6","./fi":"1msH","./fi.js":"1msH","./fo":"7T9A","./fo.js":"7T9A","./fr":"/yd7","./fr-ca":"Mtog","./fr-ca.js":"Mtog","./fr-ch":"B4ux","./fr-ch.js":"B4ux","./fr.js":"/yd7","./fy":"CM2Q","./fy.js":"CM2Q","./gd":"3+4A","./gd.js":"3+4A","./gl":"hmNS","./gl.js":"hmNS","./gom-latn":"q4nD","./gom-latn.js":"q4nD","./gu":"qASf","./gu.js":"qASf","./he":"FIPF","./he.js":"FIPF","./hi":"rG0l","./hi.js":"rG0l","./hr":"N3SY","./hr.js":"N3SY","./hu":"kHLC","./hu.js":"kHLC","./hy-am":"3OLr","./hy-am.js":"3OLr","./id":"RSny","./id.js":"RSny","./is":"a+LR","./is.js":"a+LR","./it":"zNRJ","./it.js":"zNRJ","./ja":"Bbcq","./ja.js":"Bbcq","./jv":"7EYo","./jv.js":"7EYo","./ka":"SQIG","./ka.js":"SQIG","./kk":"XRo0","./kk.js":"XRo0","./km":"6L8s","./km.js":"6L8s","./kn":"3AsJ","./kn.js":"3AsJ","./ko":"DkaY","./ko.js":"DkaY","./ky":"Xj6f","./ky.js":"Xj6f","./lb":"TFJy","./lb.js":"TFJy","./lo":"0m34","./lo.js":"0m34","./lt":"y4Oe","./lt.js":"y4Oe","./lv":"FDzn","./lv.js":"FDzn","./me":"r3ov","./me.js":"r3ov","./mi":"C4Id","./mi.js":"C4Id","./mk":"Un6b","./mk.js":"Un6b","./ml":"e8P1","./ml.js":"e8P1","./mn":"fqri","./mn.js":"fqri","./mr":"CWK/","./mr.js":"CWK/","./ms":"HPAC","./ms-my":"lcAo","./ms-my.js":"lcAo","./ms.js":"HPAC","./mt":"ujnd","./mt.js":"ujnd","./my":"Bu5D","./my.js":"Bu5D","./nb":"vrtx","./nb.js":"vrtx","./ne":"at0W","./ne.js":"at0W","./nl":"2H6q","./nl-be":"ktuE","./nl-be.js":"ktuE","./nl.js":"2H6q","./nn":"9G9d","./nn.js":"9G9d","./pa-in":"ipjM","./pa-in.js":"ipjM","./pl":"uUOg","./pl.js":"uUOg","./pt":"/YKQ","./pt-br":"PyG4","./pt-br.js":"PyG4","./pt.js":"/YKQ","./ro":"NUbg","./ro.js":"NUbg","./ru":"qALb","./ru.js":"qALb","./sd":"nigq","./sd.js":"nigq","./se":"qf9/","./se.js":"qf9/","./si":"s/xk","./si.js":"s/xk","./sk":"HmLQ","./sk.js":"HmLQ","./sl":"o8si","./sl.js":"o8si","./sq":"IL6t","./sq.js":"IL6t","./sr":"M0rO","./sr-cyrl":"IEcd","./sr-cyrl.js":"IEcd","./sr.js":"M0rO","./ss":"KpuM","./ss.js":"KpuM","./sv":"DOfk","./sv.js":"DOfk","./sw":"we8f","./sw.js":"we8f","./ta":"6Ocp","./ta.js":"6Ocp","./te":"RMVO","./te.js":"RMVO","./tet":"kmQ8","./tet.js":"kmQ8","./tg":"ShXl","./tg.js":"ShXl","./th":"5MYv","./th.js":"5MYv","./tl-ph":"da8G","./tl-ph.js":"da8G","./tlh":"050F","./tlh.js":"050F","./tr":"KPXj","./tr.js":"KPXj","./tzl":"Swr/","./tzl.js":"Swr/","./tzm":"ZFJP","./tzm-latn":"6l9W","./tzm-latn.js":"6l9W","./tzm.js":"ZFJP","./ug-cn":"GlPn","./ug-cn.js":"GlPn","./uk":"FPm8","./uk.js":"FPm8","./ur":"f1BA","./ur.js":"f1BA","./uz":"MmDA","./uz-latn":"oQvt","./uz-latn.js":"oQvt","./uz.js":"MmDA","./vi":"QaK/","./vi.js":"QaK/","./x-pseudo":"uumW","./x-pseudo.js":"uumW","./yo":"JEjq","./yo.js":"JEjq","./zh-cn":"HWti","./zh-cn.js":"HWti","./zh-hk":"X9Kd","./zh-hk.js":"X9Kd","./zh-tw":"WkGy","./zh-tw.js":"WkGy"};function s(t){return a(i(t))}function i(t){var e=n[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}s.keys=function(){return Object.keys(n)},s.resolve=i,t.exports=s,s.id="/sZF"},"4qN4":function(t,e){},"5cKm":function(t,e){},"6k7+":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("briU");var n=a("MVMM"),s=new n.default,i=a("MNoi"),o=a.n(i),l={data:function(){return{default_select:[]}},props:{idata:{type:Object,default:function(){return{title:"标题",selectItem:[{label:"选择",showAll:!0,options:[]}]}}}},mounted:function(){this.emitData()},methods:{emitData:function(){this.$emit("selectChange",this.default_select)},test:function(t){console.log(t),t.stopPropagation(),t.preventDefault()}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"titleWrap"},[a("div",{staticClass:"fh_title"},[t._v(t._s(t.idata.title))]),t._v(" "),a("div",{staticClass:"fh_dd"},[a("el-dropdown",{attrs:{trigger:"click","hide-on-click":!1}},[a("span",{staticClass:"el-dropdown-link"},[a("i",{staticClass:"el-icon-setting fh_menu"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.idata.selectItem,function(e,n){return a("el-dropdown-item",{key:n},[a("span",{staticClass:"demonstration",staticStyle:{"margin-right":"15px"}},[t._v(t._s(e.label)+" :")]),t._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"请"+e.label},on:{change:function(e){t.emitData()}},model:{value:t.default_select[n],callback:function(e){t.$set(t.default_select,n,e)},expression:"default_select[index]"}},[e.showAll?a("el-option",{attrs:{label:"所有",value:"all"}}):t._e(),t._v(" "),t._l(e.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})],2)],1)}))],1)],1)])},staticRenderFns:[]};var c=a("Z0/y")(l,r,!1,function(t){a("QQhh")},"data-v-aa0fa624",null).exports,d=function(t,e){t.chart=t.$echarts.init(t.$refs.chart);var a={title:{text:e.title,x:"center",textStyle:{color:e.textColor||"#333"}},color:e.color||["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c}个 ({d}%)"},legend:{orient:"vertical",left:"left",data:e.legendData,textStyle:{color:e.textColor||"#333"}},textStyle:{color:e.textColor||"#333"},series:[{name:e.seriesName,type:"pie",radius:"55%",center:["50%","60%"],data:e.seriesData,itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};t.chart.setOption(a)},u={data:function(){return{selectType:{title:"评论数据评价星级统计分析",selectItem:[{label:"选择类型",showAll:!1,options:[{value:"50",label:"前50条"},{value:"100",label:"前100条"},{value:"200",label:"前200条"},{value:"300",label:"前300条"},{value:"500",label:"前500条"},{value:"1000",label:"前1000条"},{value:"2000",label:"前2000条"},{value:"5000",label:"前5000条"},{value:"10000",label:"前10000条"}]}],idata:null,loading:null}}},components:{FilterHeader:c},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$Axios.get("./static/comments.json",{params:{v:(new Date).getTime()}}).then(function(e){t.idata=e.data.data.comments,t.starCount(100)})},starCount:function(t,e){e&&(this.loading=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}));for(var a=0,n=0,s=t||this.idata.length,i=0;i<s;i++){this.idata[i].star<30?n++:a++}d(this,{textColor:"#fff",title:s+"条评论星级统计",legendData:["星级大于等于3","星级小于3"],seriesName:"星级统计分析",seriesData:[{name:"星级大于等于3",value:a},{name:"星级小于3",value:n}],color:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]}),e&&this.loading.close()},changeIndex:function(t){t.length>0&&(console.log("filter"+t),this.starCount(t,"change"))}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"wrap",staticClass:"select gridWrap"},[e("FilterHeader",{attrs:{idata:this.selectType},on:{selectChange:this.changeIndex}}),this._v(" "),e("div",{ref:"chart",staticStyle:{width:"100%",height:"calc(100% - 40px)"}})],1)},staticRenderFns:[]};var g=a("Z0/y")(u,h,!1,function(t){a("c5g1")},"data-v-2737921c",null).exports,f={data:function(){return{chart:null,idata:null}},mounted:function(){var t=this;this.$Axios.get("./static/comments.json",{params:{v:(new Date).getTime()}}).then(function(e){console.log(e),t.idata=e.data.data.tags;for(var a=[],n=[],s=0,i=0;i<t.idata.length;i++){var o=t.idata[i];s+=o.count,a.push(o.tag),n.push({name:o.tag,value:o.count})}d(t,{textColor:"#fff",title:"餐厅标签,共"+s+"个",legendData:a,seriesName:"餐厅标签",seriesData:n,color:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]})})}},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%",height:"100%"}},[e("div",{ref:"chart",staticStyle:{width:"100%",height:"calc(100% - 40px)"}})])},staticRenderFns:[]};var m=a("Z0/y")(f,p,!1,function(t){a("sh3C")},"data-v-73eb21b9",null).exports,j={data:function(){return{selectType:{title:"评论数据人为情感评定",selectItem:[{label:"选择类型",showAll:!1,options:[{value:"50",label:"前50条"},{value:"100",label:"前100条"},{value:"200",label:"前200条"}]}]},chart:null,idata:null,oloading:null}},components:{FilterHeader:c},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$Axios.get("./static/comment200.json",{params:{v:(new Date).getTime()}}).then(function(e){t.idata=e.data.data.comments,t.oIdeaCount(100)})},oIdeaCount:function(t,e){e&&(this.oloading=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}));for(var a=0,n=0,s=t||this.idata.length,i=0;i<s;i++){this.idata[i].oIdea<1?n++:a++}d(this,{textColor:"#fff",title:s+"条人为情感评定",legendData:["积极情感个数","消极情感个数"],seriesName:"人为情感评定",seriesData:[{name:"积极情感个数",value:a},{name:"消极情感个数",value:n}],color:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]}),e&&this.oloading.close()},changeIndex:function(t){console.log(t),t.length>0&&(console.log("filter"+t),this.oIdeaCount(t,"change"))}}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{width:"100%",height:"100%"}},[e("FilterHeader",{attrs:{idata:this.selectType},on:{selectChange:this.changeIndex}}),this._v(" "),e("div",{ref:"chart",staticStyle:{width:"100%",height:"calc(100% - 40px)"}})],1)},staticRenderFns:[]};var y=a("Z0/y")(j,v,!1,function(t){a("6k7+")},"data-v-0146c450",null).exports,b={data:function(){return{selectType:{title:"评论数据评论情感分析结果",selectItem:[{label:"选择类型",showAll:!1,options:[{value:"50",label:"前50条"},{value:"100",label:"前100条"},{value:"200",label:"前200条"},{value:"300",label:"前300条"},{value:"500",label:"前500条"},{value:"1000",label:"前1000条"},{value:"2000",label:"前2000条"},{value:"5000",label:"前5000条"},{value:"10000",label:"前10000条"}]}]},emotionDictionaly:null,idata:null,negative_count:0,positive_count:0,loading:null}},components:{FilterHeader:c},mounted:function(){this.loading=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.loadDictionaly(),this.init()},methods:{init:function(){var t=this;this.$Axios.get("./static/comments-sliceResult.json",{params:{v:(new Date).getTime()}}).then(function(e){t.idata=e.data.data,t.Analysis(100)})},Analysis:function(t,e){var a=this;e&&(this.loading=this.$loading({lock:!0,text:"拼命加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})),setTimeout(function(){a.negative_count=0,a.positive_count=0;var e=t||a.idata.length;console.group("分析"+e+"条数据"),console.log("分析开始："+new Date);for(var n=0;n<e;n++){for(var s=a.idata[n].data.split("$-$"),i=0,o=[],l=[],r=0;r<s.length;r++){var c=s[r].split(",")[0],u=a.ComparedWord(c);o.push(u),"noFound"!=u.type?("mark"==u.type&&(l.push(i),i=0),"pos_emotion"==u.type||"pos_evaluate"==u.type?(i+=u.score,(r-1>=0&&o[r-1].type&&"neg_degree"==o[r-1].type||r-2>=0&&o[r-2].type&&"neg_degree"==o[r-2].type)&&(i*=-1,r-1>=0&&o[r-1].type&&"neg_degree"==o[r-1].type&&r-2>=0&&o[r-2].type&&"neg_degree"==o[r-2].type&&(i*=-1))):"neg_emotion"!=u.type&&"neg_evaluate"!=u.type||(i+=u.score,(r-1>=0&&o[r-1].type&&"neg_degree"==o[r-1].type||r-2>=0&&o[r-2].type&&"neg_degree"==o[r-2].type)&&(i*=-1,r-1>=0&&o[r-1].type&&"neg_degree"==o[r-1].type&&r-2>=0&&o[r-2].type&&"neg_degree"==o[r-2].type&&(i*=-1))),r-1>=0&&("most_degree"==o[r-1].type||r-2>=0&&"most_degree"==o[r-2].type?i*=3:"very_degree"==o[r-1].type||r-2>=0&&"very_degree"==o[r-2].type?i*=2.5:"more_degree"==o[r-1].type||r-2>=0&&"more_degree"==o[r-2].type?i*=2:"ish_degree"==o[r-1].type||r-2>=0&&"ish_degree"==o[r-2].type?i*=1.5:("least_degree"==o[r-1].type||r-2>=0&&"least_degree"==o[r-2].type)&&(i*=1.1)),r==s.length-1&&l.push(i)):r==s.length-1&&l.push(i)}for(var h=0,g=0;g<l.length;g++)h+=l[g];h>0?a.positive_count++:a.negative_count++}console.log("积极："+a.positive_count),console.log("消极："+a.negative_count),console.log("分析结束："+new Date),console.groupEnd();var f={textColor:"#fff",title:e+"条评论情感倾向统计分析",legendData:["情感倾向于积极的评论个数","情感倾向于消极的评论个数"],seriesName:"情感倾向统计分析",seriesData:[{name:"情感倾向于积极的评论个数",value:a.positive_count},{name:"情感倾向于消极的评论个数",value:a.negative_count}]};d(a,f),a.loading.close()},100)},loadDictionaly:function(){var t=this;this.$Axios.get("./static/emotion.json",{params:{v:(new Date).getTime()}}).then(function(e){t.emotionDictionaly=e.data.data})},ComparedWord:function(t){if(!/[\u4e00-\u9fa5]/.test(t))return{word:t,type:"mark"};if(!this.emotionDictionaly)return this.$message("情感词典还未加载完成,请重试"),0;for(var e=this.emotionDictionaly.length,a=0;a<e;a++)for(var n=this.emotionDictionaly[a],s=0;s<n.degree_data.length;s++){if(n.degree_data[s]==t)return{word:t,type:n.desc,score:n.value}}return{word:t,type:"noFound"}},changeIndex:function(t){t.length>0&&(console.log("filter"+t),this.Analysis(t,"change"))}}},w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"wrap",staticClass:"select gridWrap"},[e("FilterHeader",{attrs:{idata:this.selectType},on:{selectChange:this.changeIndex}}),this._v(" "),e("div",{ref:"chart",staticStyle:{width:"100%",height:"calc(100% - 40px)"}})],1)},staticRenderFns:[]};var _=a("Z0/y")(b,w,!1,function(t){a("5cKm")},"data-v-7e758d56",null).exports,k={data:function(){return{state:!1,options:null,wrapHeight:100,wrapWidth:100,dateArea:{areaCode:"530000",dateRange:[]}}},components:{GridLayout:o.a.GridLayout,GridItem:o.a.GridItem,component1:g,component2:m,component3:y,component4:_},computed:{rowHeight:function(){var t=this.margin?this.margin[1]:5,e=this.options.rowNum;return(this.wrapHeight-t*(e+1))/e},rowWidth:function(){var t=this.margin?this.margin[1]:5,e=this.options.colNum;return(this.wrapWidth-t*(e+1))/e}},created:function(){var t=this;this.$Axios.get("./static/layout.json").then(function(e){t.options=e.data})},mounted:function(){var t=this,e=this.$refs.layoutWrap;this.wrapWidth=e.offsetWidth,this.wrapHeight=e.offsetHeight,window.onresize=function(){t.wrapWidth=e.offsetWidth,t.wrapHeight=e.offsetHeight}},methods:{changebox:function(){this.options.isDraggable=!this.options.isDraggable,this.options.isResizable=!this.options.isResizable,this.state=!this.state},layoutUpdatedEvent:function(t){s.$emit("resizeEnd")}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"layoutWrap",staticClass:"layoutWrap",attrs:{id:"app"}},[t.options?a("grid-layout",{attrs:{layout:t.options.data,"auto-size":!0,"col-num":t.options.colNum,margin:[5,5],"row-height":t.rowHeight,"is-draggable":t.options.isDraggable,"is-resizable":t.options.isResizable},on:{"layout-updated":t.layoutUpdatedEvent}},t._l(t.options.data,function(e,n){return a("grid-item",{key:n,attrs:{x:e.x,y:e.y,w:e.w,h:e.h,i:e.i}},[a("keep-alive",[a(e.component,{tag:"component",attrs:{chartData:e.data,dateArea:t.dateArea,size:[e.w*(t.rowWidth+5)-5,e.h*(t.rowHeight+5)-5]}})],1)],1)})):t._e()],1)},staticRenderFns:[]};var A=a("Z0/y")(k,x,!1,function(t){a("jO0E")},null,null).exports,C=a("x4un"),D=a.n(C),z=(a("4qN4"),a("aozt")),W=a.n(z),H=a("5YEj"),S=a.n(H),F=a("UhU/"),I=a.n(F);n.default.prototype.$echarts=S.a,n.default.prototype.$Axios=W.a,n.default.prototype.$moment=I.a,n.default.config.productionTip=!1,n.default.use(D.a),W.a.get("./static/config.json").then(function(t){n.default.prototype.$config=t.data.data,new n.default({el:"#app",components:{App:A},template:"<App/>"})})},QQhh:function(t,e){},c5g1:function(t,e){},jO0E:function(t,e){},sh3C:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c2a3fbcff63ffdd79fae.js.map